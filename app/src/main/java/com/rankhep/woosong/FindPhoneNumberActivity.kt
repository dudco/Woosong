package com.rankhep.woosongimport android.content.Intentimport android.os.Bundleimport android.support.v7.app.AppCompatActivityimport android.widget.Toastimport com.rankhep.woosong.model.LostItemimport com.rankhep.woosong.model.PhoneSendModelimport com.rankhep.woosong.utils.NetworkHelperimport kotlinx.android.synthetic.main.activity_find_phone_number.*import okhttp3.MediaTypeimport okhttp3.RequestBodyimport retrofit2.Callimport retrofit2.Callbackimport retrofit2.Responseclass FindPhoneNumberActivity : AppCompatActivity() {    private lateinit var item: LostItem    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_find_phone_number)        val isFind = intent.getBooleanExtra("isFind", false)        item = if (isFind) {            LostItem()        } else {            intent.getSerializableExtra("item") as LostItem        }        nextBtn.setOnClickListener {            if (phoneNumberEditText.text.toString().matches(Regex("\\d\\d\\d\\d\\d\\d\\d\\d\\d\\d\\d"))) {                val intent = Intent(this@FindPhoneNumberActivity, CheckCertificationNumActivity::class.java)                intent.putExtra("item", item)                val param = PhoneSendModel.toJson(PhoneSendModel(phoneNumberEditText.text.toString()))                val body = RequestBody.create(MediaType.parse("application/json"), param.toString())                NetworkHelper.networkInstance.getCertificationNum(body).enqueue(object : Callback<Any> {                    override fun onFailure(call: Call<Any>, t: Throwable) {                        t.printStackTrace()                    }                    override fun onResponse(call: Call<Any>, response: Response<Any>) {                        if (response.isSuccessful) {                            intent.putExtra("phone", phoneNumberEditText.text.toString())                            intent.putExtra("isFind", isFind)                            startActivity(intent)                            finish()                        } else {                            Toast.makeText(applicationContext, "에러" + response.message(), Toast.LENGTH_SHORT).show()                        }                    }                })            } else {                Toast.makeText(applicationContext, "전화번호를 입력해주세요 \bex)01012345678", Toast.LENGTH_SHORT).show()            }        }    }}